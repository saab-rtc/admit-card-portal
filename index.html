<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Download or print your admit card / marks certificate for SAAB RTC Hyderabad." />
  <meta name="author" content="Mohsin Ali Jamali" />
  <title>SAAB RTC Hyderabad - Result Portal</title>
  <link rel="icon" type="image/png" href="favicon.png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --primary: #1e40af;
      --secondary: #1e293b;
      --bg: #0f172a;
      --text: #f3f4f6;
      --accent: #f59e0b;
      --accent-secondary: #60a5fa;
      --white: #ffffff;
      --error: #ef4444;
      --success: #10b981;
      --font: 'Poppins', sans-serif;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: var(--font);
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 20px;
    }
    .container {
      max-width: 960px;
      width: 100%;
      background: rgba(30, 41, 59, 0.95);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(0,0,0,0.3);
      animation: fadeIn 1s ease-in;
    }
    @keyframes fadeIn { from {opacity:0;transform:translateY(20px);} to {opacity:1;transform:translateY(0);} }
    .header {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      padding: 30px;
      text-align: center;
      color: var(--white);
      position: relative;
    }
    .header img { height: 90px; margin-bottom: 12px; }
    .header h1 { font-size: 2.3rem; font-weight: 700; margin-bottom: 5px; }
    .header h2 { font-size: 1.2rem; font-weight: 400; opacity: 0.9; }
    .subtitle {
      background: var(--accent);
      color: var(--white);
      margin: 20px;
      padding: 10px;
      text-align: center;
      font-size: 1.2rem;
      font-weight: 600;
      border-radius: 6px;
    }
    .search-container { padding: 20px; text-align: center; }
    .form-group { margin-bottom: 15px; }
    select, input {
      width: 100%;
      max-width: 320px;
      padding: 12px;
      margin: 5px auto;
      font-size: 1rem;
      border: 2px solid var(--primary);
      border-radius: 6px;
      display: block;
    }
    input:focus, select:focus { outline: none; border-color: var(--accent); }
    .doc-type {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 15px 0;
    }
    .doc-type label {
      background: #1f2937;
      padding: 10px 15px;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.3s;
    }
    .doc-type input { display: none; }
    .doc-type input:checked + span {
      background: var(--accent-secondary);
      color: var(--white);
      padding: 10px 15px;
      border-radius: 6px;
    }
    button {
      margin: 10px 5px;
      padding: 12px 24px;
      font-size: 1rem;
      font-weight: 600;
      color: var(--white);
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .download-btn { background: linear-gradient(135deg, var(--primary), var(--accent-secondary)); }
    .print-btn { background: linear-gradient(135deg, var(--success), #34d399); }
    .loading-spinner {
      display: none;
      margin: 15px auto;
      width: 30px;
      height: 30px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid var(--accent);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    .message { margin-top: 10px; font-size: 0.9rem; }
    .message.error { color: var(--error); }
    .message.success { color: var(--success); }
    .footer {
      background: var(--bg);
      padding: 15px;
      text-align: center;
      font-size: 0.85rem;
      color: #9ca3af;
    }
    .footer .developer-credit { color: var(--accent); font-weight: 600; }
    .footer a { color: var(--accent); }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <img src="file (1) (1).png" alt="SAAB RTC Logo" />
      <h1>SHAHEED ABDUL AZIZ BULLO</h1>
      <h2>RECRUIT TRAINING CENTER HYDERABAD</h2>
    </div>

    <div class="subtitle">Result & Admit Card Portal</div>

    <div class="search-container">
      <!-- Batch Selection -->
      <div class="form-group">
        <select id="batch">
          <option value="">-- Select Batch --</option>
          <optgroup label="Lower School Course">
            <option value="LSC-02">LSC Batch-02/2025</option>
             <option value="LSC-03">LSC Batch-03/2025</option>
          </optgroup>
          <optgroup label="Recruit Course">
            <option value="RC-02">RC Batch-02/2025</option>
          </optgroup>
        </select>
      </div>

      <!-- Document Type -->
      <div class="doc-type">
        <label><input type="radio" name="doctype" value="admitcards" checked /><span>Admit Card</span></label>
        <label><input type="radio" name="doctype" value="certificates" /><span>Marks Certificate</span></label>
      </div>

      <!-- CNIC Input -->
      <div class="form-group">
        <input type="text" id="rollNo" placeholder="Enter CNIC (e.g., 12345-6789102-3)" maxlength="15" />
      </div>

      <button class="download-btn" onclick="handleDocument('download')">Download</button>
      <button class="print-btn" onclick="handleDocument('print')">Print</button>

      <div class="loading-spinner" id="loadingSpinner"></div>
      <div class="message" id="message"></div>
    </div>

    <div class="footer">
      <div class="developer-credit">System Developed by: Mohsin Ali Jamali (SAAB, RTC HYD)</div>
      <div>For support: <a href="mailto:mohsinhyd16@gmail.com">mohsinhyd16@gmail.com</a> | Phone: +92-306-0384231</div>
    </div>
  </div>

  <script>
    // Auto-format CNIC
    document.getElementById("rollNo").addEventListener("input", function () {
      let val = this.value.replace(/[^0-9]/g, "");
      if (val.length <= 5) this.value = val;
      else if (val.length <= 12) this.value = val.slice(0, 5) + "-" + val.slice(5);
      else this.value = val.slice(0, 5) + "-" + val.slice(5, 12) + "-" + val.slice(12, 13);
    });

    async function handleDocument(action) {
      const batch = document.getElementById("batch").value;
      const rollNo = document.getElementById("rollNo").value.trim();
      const docType = document.querySelector("input[name='doctype']:checked").value;
      const msg = document.getElementById("message");
      const spinner = document.getElementById("loadingSpinner");
      msg.textContent = "";

      if (!batch) { msg.textContent = "⚠ Please select a batch."; msg.className="message error"; return; }
      if (!rollNo) { msg.textContent = "⚠ Please enter CNIC number."; msg.className="message error"; return; }

      const fileUrl = `https://saab-rtc.github.io/admit-card-portal/${docType}/${batch}/${encodeURIComponent(rollNo)}.pdf`;

      spinner.style.display = "block";
      try {
        const response = await fetch(fileUrl, { method: "HEAD" });
        spinner.style.display = "none";
        if (response.ok) {
          if (action === "download") {
            window.open(fileUrl, "_blank");
            msg.textContent = "✅ Download started!";
            msg.className="message success";
          } else {
            const pdfWindow = window.open(fileUrl, "_blank");
            if (pdfWindow) { pdfWindow.onload = () => pdfWindow.print(); }
            msg.textContent = "✅ Opening for print...";
            msg.className="message success";
          }
        } else {
          msg.textContent = "❌ Document not found for entered CNIC.";
          msg.className="message error";
        }
      } catch (e) {
        spinner.style.display = "none";
        msg.textContent = "⚠ Error loading document. Try again.";
        msg.className="message error";
      }
    }
  </script>
</body>
</html>
